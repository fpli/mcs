<?xml version="1.0" encoding="utf-8"?>
<config>
    <properties>
        <uptime.metric.template>sum by (applicationName, job_name)(flink_jobmanager_job_uptime{_namespace_ = "%s", applicationName =~ "%s", job_name =~ "%s"})</uptime.metric.template>
        <uptime.metric.step>60</uptime.metric.step>
        <downtime.metric.template>sum by (applicationName, job_name)(flink_jobmanager_job_downtime{_namespace_ = "%s", applicationName =~ "%s", job_name =~ "%s"})</downtime.metric.template>
        <downtime.metric.step>60</downtime.metric.step>
        <lastCheckpointDuration.metric.template>sum by (applicationName, job_name)(flink_jobmanager_job_lastCheckpointDuration{_namespace_ = "%s", applicationName =~ "%s", job_name =~ "%s"})</lastCheckpointDuration.metric.template>
        <lastCheckpointDuration.metric.step>60</lastCheckpointDuration.metric.step>
        <numberOfCompletedCheckpoints.metric.template>sum by (applicationName, job_name)(flink_jobmanager_job_numberOfCompletedCheckpoints{_namespace_ = "%s", applicationName =~ "%s", job_name =~ "%s"})</numberOfCompletedCheckpoints.metric.template>
        <numberOfCompletedCheckpoints.metric.step>60</numberOfCompletedCheckpoints.metric.step>
        <numberOfFailedCheckpoints.metric.template>sum by (applicationName, job_name)(flink_jobmanager_job_numberOfFailedCheckpoints{_namespace_ = "%s", applicationName =~ "%s", job_name =~ "%s"})</numberOfFailedCheckpoints.metric.template>
        <numberOfFailedCheckpoints.metric.step>60</numberOfFailedCheckpoints.metric.step>
        <consumerlag.metric.template>sum by(zone,groupId,topic)(rheos_consumer_lag{_namespace_="rheos-metrics",zone=~"%s", serviceType="kafka", groupId=~"%s", topic=~"%s"})</consumerlag.metric.template>
        <consumerlag.metric.step>60</consumerlag.metric.step>
        <metric.explore.url.template>https://console.sherlock.io/explore?panes=%s&amp;schemaVersion=1&amp;orgId=1</metric.explore.url.template>>
        <metric.explore.url.panes.template>{"Tpa":{"datasource":"000000007","queries":[{"refId":"A","expr":"%s","range":true,"instant":true,"datasource":{"type":"prometheus","uid":"000000007"},"editorMode":"code","legendFormat":"__auto"}],"range":{"from":"now-1h","to":"now"}}}</metric.explore.url.panes.template>>
        <flink.application.url.template>https://rhs-portal.vip.ebay.com/flink/application/%s</flink.application.url.template>
        <flink.job.url.template>https://rhs-portal.vip.ebay.com/flink/job/%s/%s</flink.job.url.template>
        <flink.job.dashboard.url.template>https://console.sherlock.io/d/HAMmMB3Mk/flink-job-dashboard?var-ump_namespace=%s&amp;var-application=%s</flink.job.dashboard.url.template>
        <flink.topic.dashboard.url.template>http://rhs-monitoring.vip.ebay.com/d/CNcPZtviz/consumer-lag?var-streamName=%s&amp;var-zone=%s&amp;var-topic=%s&amp;var-groupId=%s</flink.topic.dashboard.url.template>
        <flink.topic.url.template>https://rhs-portal.vip.ebay.com/kafka/topic/%s/%s</flink.topic.url.template>
    </properties>
    <flinks>
        <project project_name="Marketing tracking" namespace="mkt-tess-13">
            <job application_name="utp-event-sink-13" job_name="utp_event_sink_app" flink_job_name="UTPEventSinkApp-13" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="marketing-tracking-consumer-utp-event-sink" zone="lvs" stream_name="marketing.tracking" source_topic="marketing.tracking.events.total" lag_threshold="6000000" lag_threshold_factor="5"/>
            <job application_name="utp-imk-transform-13" job_name="UTPImkTransformApp" flink_job_name="UTPImkTransformApp-13" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="utp-to-imk" zone="lvs" stream_name="marketing.tracking" source_topic="marketing.tracking.events.total" lag_threshold="5000000" lag_threshold_factor="5"/>
            <job application_name="utp-event-imk-sink-13" job_name="UTPImkSinkApp" flink_job_name="UTPImkSinkApp-13" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="utp-imk-sink" zone="lvs" stream_name="marketing.tracking" source_topic="marketing.tracking.events.imk" lag_threshold="250000" lag_threshold_factor="10"/>
            <job application_name="utp-event-rover-13" job_name="UTPChocolateEmailClickTransformApp" flink_job_name="utp-chocolate-email-click-transform-app-13" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="utp-chocolate-email-click-transform-7" zone="rno" stream_name="behavior.pulsar" source_topic="behavior.pulsar.customized.email" lag_threshold="50000" lag_threshold_factor="10"/>
            <job application_name="utp-event-rover-13" job_name="UTPPathfinderEventTransformApp" flink_job_name="UTPInstallEventTransformApp-13" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="utp-install-event-transform" zone="rno" stream_name="behavior.pulsar" source_topic="behavior.pulsar.customized.app-open" lag_threshold="200000" lag_threshold_factor="10"/>
            <job application_name="utp-global-events-13" job_name="ROIGlobalEventTransformApp" flink_job_name="roi-global-event-13" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="roi-global-event-2" zone="lvs" stream_name="marketing.tracking" source_topic="marketing.tracking.events.total" lag_threshold="5000000" lag_threshold_factor="10"/>
            <job application_name="utp-global-events-13" job_name="roi_global_events_sink" flink_job_name="roi-global-event-sink-13" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="roi-global-events-sink" zone="lvs" stream_name="marketing.tracking" source_topic="marketing.tracking.globalevents.roi" lag_threshold="100000" lag_threshold_factor="10"/>
            <job application_name="add-to-cart-event" job_name="UTPAddToCartTransformApp" flink_job_name="UTPAddToCartTransformApp" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="utp-add-to-cart-transform-1" zone="rno" stream_name="behavior.pulsar" source_topic="behavior.pulsar.customized.bullseye_shoppingcart" lag_threshold="30000" lag_threshold_factor="10"/>
            <job application_name="chocolate-monitor-13" job_name="log_sink_app" flink_job_name="LogSinkApp-13" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="log-sink" zone="lvs" stream_name="marketing.tracking" source_topic="marketing.tracking.chocolate-log" lag_threshold="20000000" lag_threshold_factor="5"/>
            <job application_name="internal-click-sink" job_name="internal_click_sink_app" flink_job_name="InternalClickSinkApp" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="marketing-tracking-consumer-internal-click" zone="lvs" stream_name="marketing.tracking" source_topic="marketing.tracking.ssl.listened-duplicate-itm-click" lag_threshold="10000" lag_threshold_factor="5"/>
            <job application_name="utp-tracer-13-lvs" job_name="UtpTracerApp" flink_job_name="utp-event-tracer-13" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="utp-event-tracer-monitor" zone="lvs" stream_name="marketing.tracking" source_topic="marketing.tracking.events.total" lag_threshold="5000000" lag_threshold_factor="5"/>
            <job application_name="utp-monitor-13" job_name="utp_monitor_app" flink_job_name="utp-monitor-13" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="utp-to-monitor-2" zone="lvs" stream_name="marketing.tracking" source_topic="marketing.tracking.events.total" lag_threshold="5000000" lag_threshold_factor="5"/>
        </project>
        <project project_name="UTP Madrona" namespace="rheos-metrics">
            <job application_name="utp-madrona" job_name="utp_madrona_click" flink_job_name="utp-madrona-click" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="marketing-tracking-pathfinder-consumer-click01" zone="rno" stream_name="behavior.pulsar" source_topic="behavior.pulsar.customized.page2356359" lag_threshold="5000000" lag_threshold_factor="10"/>
            <job application_name="utp-madrona" job_name="utp_madrona_imp" flink_job_name="utp-madrona-imp" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="marketing-tracking-pathfinder-consumer-imp01" zone="rno" stream_name="behavior.pulsar" source_topic="behavior.pulsar.customized.page2208336" lag_threshold="4000000" lag_threshold_factor="10"/>
            <job application_name="utp-madrona" job_name="utp_madrona_imp_page3411350" flink_job_name="utp-madrona-imp-page3411350" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="marketing-tracking-pathfinder-consumer-imp350" zone="rno" stream_name="behavior.pulsar" source_topic="behavior.pulsar.customized.3411350" lag_threshold="1000" lag_threshold_factor="10"/>
        </project>

        <project project_name="Surface Tracking(surface-tracking-off-heap)" namespace="rheos-metrics">
            <job application_name="surface-tracking-off-heap" job_name="Native_SessionizedEvent_Dumper" flink_job_name="surface-tracking-native-hdfs-writer-v2" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="behavior.surfacetracking.event.sessionized.consumer.dump" zone="rno" stream_name="behavior.autotracking" source_topic="behavior.autotracking.native.event.sessionized" lag_threshold="10000000" lag_threshold_factor="5"/>
            <job application_name="surface-tracking-off-heap" job_name="Late_Native_AutotrackEvent_Dumper" flink_job_name="surface-tracking-native-late-hdfs-writer-v2" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="behavior.surfacetracking.event.sessionized.consumer.dump" zone="rno" stream_name="behavior.autotracking" source_topic="behavior.autotracking.native.event.lated" lag_threshold="40000" lag_threshold_factor="5"/>
            <job application_name="surface-tracking-off-heap" job_name="SessionizedEvent_Dumper" flink_job_name="surfacetracking-hdfs-writer-v2" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="behavior.surfacetracking.event.sessionized.consumer.dump" zone="rno" stream_name="behavior.autotracking" source_topic="behavior.autotracking.event.sessionized" lag_threshold="35000000" lag_threshold_factor="5"/>
            <job application_name="surface-tracking-off-heap" job_name="Session_Dumper" flink_job_name="surface-tracking-session-to-hdfs-v2" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="behavior.surfacetracking.event.sessionized.consumer.dump" zone="rno" stream_name="behavior.autotracking" source_topic="behavior.autotracking.session" lag_threshold="250000" lag_threshold_factor="5"/>
            <job application_name="surface-tracking-off-heap" job_name="Late_AutotrackEvent_Dumper" flink_job_name="surfacetracking-late-event-hdfs-writer-v2" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="behavior.surfacetracking.event.sessionized.consumer.dump" zone="rno" stream_name="behavior.autotracking" source_topic="behavior.autotracking.event.lated" lag_threshold="80000" lag_threshold_factor="5"/>
        </project>

        <project project_name="Surface Tracking(other)" namespace="rheos-metrics">
            <job application_name="surface-tracking-flink" job_name="Automated_Tracking_Bot_Detection" flink_job_name="flink-session-job" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="surface.tracking.impression.consumer.rheostrackevent" zone="lvs" stream_name="behavior.autotracking" source_topic="behavior.autotracking.moduletrackevent" lag_threshold="4000000" lag_threshold_factor="5"/>
            <job application_name="surface-tracking-global-event-to-pronto-lvs-v2" job_name="SurfaceGlobalEventTracerJob" flink_job_name="SurfaceGlobalEventToProntoJob" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="behavior.surfacetracking.global-event-to-pronto.consumer.poc" zone="lvs" stream_name="behavior.autotracking" source_topic="behavior.autotracking.enriched.events" lag_threshold="10000000" lag_threshold_factor="10"/>
            <job application_name="surface-tracking-global-event-flink" job_name="SurfaceGlobalEventEnrichJob" flink_job_name="SurfaceGlobalEventEnrichJob-V2" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="behavior.surfacetracking.global-event.consumer.poc" zone="rno" stream_name="behavior.autotracking" source_topic="behavior.autotracking.event.sessionized" lag_threshold="50000000" lag_threshold_factor="8"/>
            <job application_name="surface-tracking-global-event-flink" job_name="SurfaceGlobalEventDumpJob" flink_job_name="SurfaceGlobalEventDumpJob-V2" downtime_threshold="60" number_of_checkpoints_threshold="1" group_id="behavior.surfacetracking.global-event.consumer.poc" zone="lvs" stream_name="behavior.autotracking" source_topic="behavior.autotracking.enriched.events" lag_threshold="15000000" lag_threshold_factor="10"/>
        </project>
    </flinks>
</config>