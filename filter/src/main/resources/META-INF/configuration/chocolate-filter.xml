<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>
<configuration supports_final="true">
  <property>
    <name>chocolate.user</name>
    <value>chocolate</value>
    <description>User that will be installing this application.</description>
  </property>

  <property>
    <name>chocolate.filter.jar</name>
    <value>/usr/local/chocolate/chocolate-ingester.jar</value>
    <description>Canonical path to the JAR containing the chocolate ingester service.</description>
  </property>

  <property>
    <name>chocolate.filter.zkconnect</name>
    <value>127.0.0.1:2181</value>
    <description>Zookeeper connection string for the chocolate ingester service.</description>
  </property>

  <property>
    <name>chocolate.filter.kafka.propertiesfile</name>
    <value>ingester-kafka.properties</value>
    <description>Kafka properties file for the chocolate ingester.</description>
  </property>

  <property>
    <name>chocolate.filter.kafka.consumer.threadspertopic</name>
    <value>4</value>
    <description>Number of consumer threads per Kafka topic.</description>
    <value-attributes> 
      <type>int</type>
    </value-attributes>
  </property>

  <!-- Filtering related start -->
  <property>
    <name>chocolate.filter.clickthrough.ratelimit</name>
    <value>0.1</value>
    <description>Rate limit for campaign clickthrough rule.</description>
    <value-attributes>
      <type>float</type>
    </value-attributes>
  </property>

  <property>
    <name>chocolate.filter.cguidimpcapper.timelength</name>
    <value>10800</value>
    <description>Time period for CGUID capping rule.</description>
    <value-attributes>
      <type>int</type>
    </value-attributes>
  </property>

  <property>
    <name>chocolate.filter.cguidimpcapper.limit</name>
    <value>100</value>
    <description>Event count limit for CGUID capping rule.</description>
    <value-attributes>
      <type>int</type>
    </value-attributes>
  </property>

  <property>
    <name>chocolate.filter.cguidvalid.start</name>
    <value>500</value>
    <description>CGUID validity window - near limit</description>
    <value-attributes>
      <type>int</type>
    </value-attributes>
  </property>

  <property>
    <name>chocolate.filter.capper.bucketlength</name>
    <value>1000</value>
    <description>Bucket size (ms) for all capping rules. Affects memory consumption vs precision</description>
    <value-attributes>
      <type>int</type>
    </value-attributes>
  </property>

  <property>
    <name>chocolate.filter.ipcapper.timelength</name>
    <value>10800</value>
    <description>Time period for IP capping rule.</description>
    <value-attributes>
      <type>int</type>
    </value-attributes>
  </property>

  <property>
    <name>chocolate.filter.ipcapper.limit</name>
    <value>100</value>
    <description>Event count limit for IP capping rule.</description>
    <value-attributes>
      <type>int</type>
    </value-attributes>
  </property>

  <property>
    <name>chocolate.filter.repeat.loglength</name>
    <value>500</value>
    <description>Time period (ms) for click refraction rule</description>
    <value-attributes>
      <type>int</type>
    </value-attributes>
  </property>

  <property>
    <name>chocolate.filter.iabtest.whitelist</name>
    <value>/config/topics/chocolate/iab_whitelist</value>
    <description>Location (on ZK) of the IAB whitelist</description>
  </property>

  <property>
    <name>chocolate.filter.iabtest.blacklist</name>
    <value>/config/topics/chocolate/iab_blacklist</value>
    <description>Location (on ZK) of the IAB blacklist</description>
  </property>

  <property>
    <name>chocolate.filter.epnblacklist.domains</name>
    <value>/config/topics/chocolate/epn_domains</value>
    <description>Location (on ZK) of the EPN domain blacklist</description>
  </property>

  <property>
    <name>chocolate.filter.kafka.topic.impOrClicks</name>
    <value>impressions_or_clicks</value>
    <description>Kafka topic name for the "impression or clicks" topic. Mostly used for testing</description>
  </property>

  <property>
    <name>chocolate.filter.kafka.topic.rover</name>
    <value>rover</value>
    <description>Kafka topic for consuming listener messages</description>
  </property>

  <property>
    <name>chocolate.filter.influxdb.host</name>
    <value>10.65.147.31</value>
    <description>Influx DB host location</description>
  </property>

  <property>
    <name>chocolate.filter.influxdb.database</name>
    <value>test</value>
    <description>Influx DB database</description>
  </property>


  <!-- Filtering related end -->
</configuration>
